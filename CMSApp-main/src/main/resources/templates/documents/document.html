<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AdminLTE 3 | Dashboard</title>

<th:block th:replace="~{fragments/header_link :: header_link}" />
<style>
		.popup {
			display: none;
			position: absolute;
			top: 40px; /* 버튼 아래에 위치 */
			right: 80px;
			width: 200px;
			padding: 10px;
			border: 1px solid #ccc;
			background: #fff;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
			z-index: 1000;
		}
		
		.popup button {
			display: block;
			width: 100%;
			margin-bottom: 5px;
		}
		.version-sidebar {
		    position: fixed;
		    right: 0;
		    top: 0;
		    width: 500px; /* 사이드바 너비 */
		    height: 100%; /* 전체 높이 */
		    background-color: #f4f4f4; /* 배경 색상 */
		    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.5);
		    padding: 20px;
		    display: none; /* 기본적으로 보이지 않음 */
		    z-index: 2000; /* 다른 요소들 위에 표시 */
		}
		.timeline-wrapper {
		  height: 100%; /* 원하는 높이로 설정 */
		  overflow-y: auto; /* 세로 스크롤 활성화 */
		}
</style>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
	<div class="wrapper">

		<!-- Preloader -->
		<th:block th:replace="~{fragments/preloader :: preloader}" />

		<!-- Navbar -->
		<th:block th:replace="~{fragments/navi :: navi}" />
		<!-- /.navbar -->

		<!-- Main Sidebar Container -->
		<th:block th:replace="~{fragments/sidebar :: sidebar}" />

		<!-- /.sidebar -->

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<section class="content">
				<div class="row">
					<div class="col"><p>글 작성</p></div>
					<div class="col-4">
						<div class="float-right">
							<button type="button" class="btn btn-primary" id="versionControlButton">
								<i class=""></i> 버전 관리
							</button>
							<button type="button" class="btn btn-default" id="draftButton">
								<i class="fas fa-pencil-alt"></i> Draft
							</button>
							<button type="button" class="btn btn-primary">
								<i class="far fa-envelope"></i> Edit
							</button>
							
							<!-- draft 창 -->
							<div class="popup" id="draftPopup">
								<button type="button" class="btn btn-secondary">저장</button>
								<button type="button" class="btn btn-secondary">리뷰 요청</button>
								<button type="button" class="btn btn-secondary">배포 요청</button>
							</div>
						</div>
						<!-- 버전관리 사이드바 -->
						<div class="version-sidebar" id="versionSidebar" style="display: none;">
						    <!-- 사이드바 내용 -->
						    <div class="timeline-wrapper">
								<div class="timeline">
					              <!-- timeline time label -->
					              <div class="time-label">
					                <span class="bg-red">2024.05.22 14:11</span>
					              </div>
					              <!-- /.timeline-label -->
					              <!-- 버전관리 내용 -->
					              <div>
					                <i class="fas fa-envelope bg-blue"></i>
					                <div class="timeline-item">
					                  <span class="time"><i class="fas fa-clock"></i> 12:05</span>
					                  <h3 class="timeline-header">제목</h3>
					
					                  <div class="timeline-body">
					                    <p><b>v1.0</b></p>
					                  </div>
					                  <div class="timeline-footer">
					                    <a class="btn btn-primary btn-sm">열기</a>
					                    <a class="btn btn-danger btn-sm">삭제</a>
					                  </div>
					                </div>
					              </div>
					              <!-- END timeline item -->
					              <div>
					                <i class="fas fa-clock bg-gray"></i>
					              </div>
					            </div>
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="card card-outline card-info">
							<div class="card-header">
								<div class="col-sm-12">
									<input type="text" class="form-control" id=""
										placeholder="제목...">
								</div>
							</div>
							<!-- /.card-header -->
							<div class="card-body">
								<textarea id="summernote" rows="6">
	                Place <em>some</em> <u>text</u> <strong>here</strong>
	              </textarea>
							</div>
						</div>
					</div>
					<!-- /.col-->
				</div>
				<!-- ./row -->
			</section>
		</div>
		<!-- /.content-wrapper -->

		<th:block th:replace="~{fragments/footer :: footer}" />

		<!-- Control Sidebar -->
		<aside class="control-sidebar control-sidebar-dark">
			<!-- Control sidebar content goes here -->
		</aside>
		<!-- /.control-sidebar -->
	</div>
	<!-- ./wrapper -->

	<th:block th:replace="~{fragments/footer_link :: footer_link}" />
	<script>
  $(function () {
    // Summernote
    $('#summernote').summernote({
    	height: 300,                 // 에디터 높이
		  minHeight: null,             // 최소 높이
		  maxHeight: null,             // 최대 높이
		  focus: true,                  // 에디터 로딩후 포커스를 맞출지 여부
		  lang: "ko-KR",					// 한글 설정
		  placeholder: '내용을 입력하세요.'	//placeholder 설정
    });
  })
  
  // Draft 창 스크립트
  document.getElementById('draftButton').addEventListener('click', function() {
    var popup = document.getElementById('draftPopup');
    popup.style.display = popup.style.display === 'none' || popup.style.display === '' ? 'block' : 'none';
  });

  document.addEventListener('click', function(event) {
    var isClickInside = document.getElementById('draftButton').contains(event.target) || document.getElementById('draftPopup').contains(event.target);
    if (!isClickInside) {
      document.getElementById('draftPopup').style.display = 'none';
    }
  });
  
  // 버전관리 창 스크립트
  document.getElementById('versionControlButton').addEventListener('click', function() {
    var sidebar = document.getElementById('versionSidebar');
    sidebar.style.display = sidebar.style.display === 'none' || sidebar.style.display === '' ? 'block' : 'none';
  });

  document.addEventListener('click', function(event) {
    var isClickInsideSidebar = document.getElementById('versionSidebar').contains(event.target);
    var isClickInsideButton = document.getElementById('versionControlButton').contains(event.target);
    if (!isClickInsideSidebar && !isClickInsideButton) {
      document.getElementById('versionSidebar').style.display = 'none';
    }
  });
</script>
</body>
</html>